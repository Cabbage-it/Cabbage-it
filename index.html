<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>素因数分解！</title>
<style>
p {
  text-align: center;
}

div {
  text-align: center;
}

button {
  text-align: center;
}

</style>
</head>
<body>

<div id="blog">
  <p>素因数分解します</p>
  <p id="msg"></p>
  <input type="number" id="txt">
  <p></p>
  <button onClick="getElements();">分解</button>
  <p>いまのところ精度はJavascriptの仕様で14桁程度です。</p>
</div>


<script>
function getElements(){
    msg.innerText = '結果は' + prime(Number(txt.value) )+ 'です';
}

function prime(n){
    if (n===0){return 0;}
    else if (n%2 === 0){
         i=prime(n/2)
         i.unshift(2)
         return i
    }
    else if (n%3 === 0){
         i=prime(n/3)
         i.unshift(3)
         return i
    }
    p=Math.floor(Math.sqrt(n)/6);
    for (let j = 1; j <= p+1; j++){
        if (n%(6*j-1)===0){
            i=prime(n/(6*j-1));
            i.unshift(6*j-1);
            return i;
        }else if (n%(6*j+1)===0){
            i=prime(n/(6*j+1));
            i.unshift(6*j+1);
            return i;
        }
    }
    if (n === 1){
        return [];
    }else{
        return [n]
    }
}




let txt = document.getElementById('txt');
let msg = document.getElementById('msg');
</script>
  <p>
  <a href="https://cabbage-it.github.io/movement/">動くよ！</a>（Windowsで動作確認、スマホ未対応）
  </p>
</body>
</html>
